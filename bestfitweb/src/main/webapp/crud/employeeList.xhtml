

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:acegijsf="http://sourceforge.net/projects/jsf-comp/acegijsf"
	template="/WEB-INF/template/templateCrud.xhtml">

	<ui:define name="content">

		<f:view>
			<h:messages layout="list" globalOnly="true" showDetail="true"
				styleClass="messages" />

			<a4j:form id="form">
				<rich:tabPanel>
<<<<<<< .mine
					<rich:tab label="Tabular" >
					<t:dataTable id="data" var="employee"
						value="#{employeeCrudBacking.employees}" rows="30"
					rowClasses="odd, even" styleClass="dataTable">
						
							
	<t:column>
		<f:facet name="header">
				<t:outputText value="FirstName" /> 
		</f:facet>
		<t:outputText value="#{employee.firstName}" />
	</t:column>
=======
					<rich:tab label="Tabular">
						<t:dataTable id="data" var="employee"
							value="#{employeeCrudBacking.employees}" rows="30"
							rowClasses="odd, even" styleClass="dataTable">
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="LastName" /> 
		</f:facet>
		<t:outputText value="#{employee.lastName}" />
	</t:column>
=======
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Dob" /> 
		</f:facet>
		<t:outputText value="#{employee.dob}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="FirstName" arrow="true"> -->
									<t:outputText value="FirstName" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.firstName}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Code" /> 
		</f:facet>
		<t:outputText value="#{employee.code}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="LastName" arrow="true"> -->
									<t:outputText value="LastName" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.lastName}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Username" /> 
		</f:facet>
		<t:outputText value="#{employee.userAccount.username}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Dob" arrow="true"> -->
									<t:outputText value="Dob" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.dob}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Password" /> 
		</f:facet>
		<t:outputText value="#{employee.userAccount.password}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Code" arrow="true"> -->
									<t:outputText value="Code" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.code}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Enabled" /> 
		</f:facet>
		<t:outputText value="#{employee.userAccount.enabled}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Username" arrow="true"> -->
									<t:outputText value="Username" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.userAccount.username}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="StreetAddress" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.streetAddress}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Password" arrow="true"> -->
									<t:outputText value="Password" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.userAccount.password}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="City" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.city}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Enabled" arrow="true"> -->
									<t:outputText value="Enabled" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.userAccount.enabled}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Zip" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.zip}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="StreetAddress" arrow="true"> -->
									<t:outputText value="StreetAddress" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.streetAddress}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Email" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.email}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="City" arrow="true"> -->
									<t:outputText value="City" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.city}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="Country" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.country}" />
	</t:column>
=======
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Zip" arrow="true"> -->
									<t:outputText value="Zip" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.zip}" />
							</t:column>
>>>>>>> .r219

<<<<<<< .mine
	<t:column>
		<f:facet name="header">
				<t:outputText value="State" /> 
		</f:facet>
		<t:outputText value="#{employee.primaryAddress.state}" />
	</t:column>
							
							
							
=======
>>>>>>> .r219
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Email" arrow="true"> -->
									<t:outputText value="Email" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.email}" />
							</t:column>

							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Country" arrow="true"> -->
									<t:outputText value="Country" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.country}" />
							</t:column>

							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="State" arrow="true"> -->
									<t:outputText value="State" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{employee.primaryAddress.state}" />
							</t:column>



							<t:column>
								<f:facet name="header">
									<t:commandSortHeader columnName="id" arrow="true">
										<t:outputText value=" " />
									</t:commandSortHeader>
								</f:facet>
								<acegijsf:authorize ifAnyGranted="ROLE_EMPLOYEE">
									<h:commandLink  onclick="Richfaces.showModalPanel('mp',{width:650, top:200})"
										actionListener="#{employeeCrudBacking.selectEntity}">
										<h:outputText value=" Edit " />
										<f:param id="editId" name="id" value="#{employee.id}" />
									</h:commandLink>
								</acegijsf:authorize>
							</t:column>
<<<<<<< .mine
							
							 	</t:dataTable>	
							 </rich:tab>
							 <rich:tab label="Tree" >
							 	<b> Show the tree view here </b>
							 </rich:tab>
							 
							 <rich:tab label="Audit" >
							 	<t:dataTable id="dataAudit" var="log"
							value="#{productCrudBacking.auditLog}" rows="30"
							rowClasses="odd, even" styleClass="dataTable">
							
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="ListPrice" arrow="true"> -->
									<t:outputText value="Date" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.dateCreated}" />
							</t:column>
							
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Brand" arrow="true"> -->
									<t:outputText value="Action" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.action}" />
							</t:column>

							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="ListPrice" arrow="true"> -->
									<t:outputText value="User" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.username}" />
							</t:column>
							
							
							
							
	<t:column>
		<f:facet name="header">
				<t:outputText value="FirstName" /> 
		</f:facet>
		<t:outputText value="#{log.entity.firstName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="LastName" /> 
		</f:facet>
		<t:outputText value="#{log.entity.lastName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Dob" /> 
		</f:facet>
		<t:outputText value="#{log.entity.dob}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Code" /> 
		</f:facet>
		<t:outputText value="#{log.entity.code}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Username" /> 
		</f:facet>
		<t:outputText value="#{log.entity.userAccount.username}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Password" /> 
		</f:facet>
		<t:outputText value="#{log.entity.userAccount.password}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Enabled" /> 
		</f:facet>
		<t:outputText value="#{log.entity.userAccount.enabled}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="StreetAddress" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.streetAddress}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="City" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.city}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Zip" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.zip}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Email" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.email}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="Country" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.country}" />
	</t:column>

	<t:column>
		<f:facet name="header">
				<t:outputText value="State" /> 
		</f:facet>
		<t:outputText value="#{log.entity.primaryAddress.state}" />
	</t:column>
							
							
							</t:dataTable>
							 </rich:tab>
							 
							</rich:tabPanel>
  						 </a4j:form>
=======
>>>>>>> .r219

						</t:dataTable>
					</rich:tab>
					<rich:tab label="Tree">
						<b> Show the tree view here </b>
					</rich:tab>

					<rich:tab label="Audit">
						<b> Show the audit view here </b>
					</rich:tab>

				</rich:tabPanel>
			</a4j:form>

			<br />
			<hr />
			<a
				href="javascript:Richfaces.showModalPanel('mp',{width:650, top:200})">
			New </a>
			<a href="employee.jsf"
				onclick="Richfaces.showModalPanel('mp',{width:450, top:200})">
			Add New </a>
			<a href="employeeSearch.jsf"> Search </a>
			<hr />

		</f:view>

		<rich:modalPanel id="mp" minHeight="200" minWidth="450" height="700"
			width="520" zindex="2000">

			<f:facet name="header">

				<h:outputText value="Modal Panel Title" />

			</f:facet>

			<f:facet name="controls">

				<h:graphicImage value="/images/modal/close.png"
					style="cursor:pointer" onclick="Richfaces.hideModalPanel('mp')" />

			</f:facet>



			<f:view>
				<h:messages layout="list" globalOnly="true" showDetail="true"
					styleClass="messages" />

				<a4j:form id="form2">
					<rich:panel>
						<h:panelGrid columns="3" styleClass="formTable">
							<f:facet name="header">
								<h:outputText value="Employee Information"
									styleClass="formHeaderText" />
							</f:facet>

							<h:outputText value="FirstName*" styleClass="formLabel" />

							<h:inputText required="true" id="employee__firstName"
								value="#{employeeCrudBacking.employee.firstName}">

							</h:inputText>

							<h:message for="employee__firstName" styleClass="errMessage" />

							<h:outputText value="LastName*" styleClass="formLabel" />

							<h:inputText required="true" id="employee__lastName"
								value="#{employeeCrudBacking.employee.lastName}">

							</h:inputText>

							<h:message for="employee__lastName" styleClass="errMessage" />

							<h:outputText value="Dob" styleClass="formLabel" />

							<t:inputCalendar renderAsPopup="true"
								renderPopupButtonAsImage="true" required="false"
								id="employee__dob" value="#{employeeCrudBacking.employee.dob}">

							</t:inputCalendar>

							<h:message for="employee__dob" styleClass="errMessage" />

							<h:outputText value="Code*" styleClass="formLabel" />

							<h:inputText required="true" id="employee__code"
								value="#{employeeCrudBacking.employee.code}">
								<f:validateLongRange minimum="3" />
							</h:inputText>

							<h:message for="employee__code" styleClass="errMessage" />

							<h:outputText value="Username*" styleClass="formLabel" />

							<h:inputText maxLength="14" required="true"
								id="employee_userAccount_username"
								value="#{employeeCrudBacking.employee.userAccount.username}">
								<f:validateLength maximum="14" />
							</h:inputText>

							<h:message for="employee_userAccount_username"
								styleClass="errMessage" />

							<h:outputText value="Password*" styleClass="formLabel" />

							<h:inputText required="true" id="employee_userAccount_password"
								value="#{employeeCrudBacking.employee.userAccount.password}">
								<f:validateLength minimum="3" />
							</h:inputText>

							<h:message for="employee_userAccount_password"
								styleClass="errMessage" />

							<h:outputText value="Enabled" styleClass="formLabel" />

							<h:selectBooleanCheckbox title="enabled" required="false"
								id="employee_userAccount_enabled"
								value="#{employeeCrudBacking.employee.userAccount.enabled}">

							</h:selectBooleanCheckbox>

							<h:message for="employee_userAccount_enabled"
								styleClass="errMessage" />

							<h:outputText value="StreetAddress" styleClass="formLabel" />

							<h:inputText required="false"
								id="employee_primaryAddress_streetAddress"
								value="#{employeeCrudBacking.employee.primaryAddress.streetAddress}">

							</h:inputText>

							<h:message for="employee_primaryAddress_streetAddress"
								styleClass="errMessage" />

							<h:outputText value="City" styleClass="formLabel" />

							<h:inputText required="false" id="employee_primaryAddress_city"
								value="#{employeeCrudBacking.employee.primaryAddress.city}">

							</h:inputText>

							<h:message for="employee_primaryAddress_city"
								styleClass="errMessage" />

							<h:outputText value="Zip" styleClass="formLabel" />

							<h:inputText required="false" id="employee_primaryAddress_zip"
								value="#{employeeCrudBacking.employee.primaryAddress.zip}">

							</h:inputText>

							<h:message for="employee_primaryAddress_zip"
								styleClass="errMessage" />

							<h:outputText value="Email*" styleClass="formLabel" />

							<h:inputText required="true" id="employee_primaryAddress_email"
								value="#{employeeCrudBacking.employee.primaryAddress.email}">

							</h:inputText>

							<h:message for="employee_primaryAddress_email"
								styleClass="errMessage" />

							<h:outputText value="Country" styleClass="formLabel" />

							<h:inputText required="false"
								id="employee_primaryAddress_country"
								value="#{employeeCrudBacking.employee.primaryAddress.country}">

							</h:inputText>

							<h:message for="employee_primaryAddress_country"
								styleClass="errMessage" />

							<h:outputText value="State" styleClass="formLabel" />

							<h:inputText required="false" id="employee_primaryAddress_state"
								value="#{employeeCrudBacking.employee.primaryAddress.state}">

							</h:inputText>

							<h:message for="employee_primaryAddress_state"
								styleClass="errMessage" />

							<h:commandButton id="button1" value="Submit"
								action="#{employeeCrudBacking.update}" />
							<h:commandButton id="button2" value="Cancel"
								action="#{employeeCrudBacking.cancelUpdate}" immediate="true" />
							<!-- We need to have a hidden text field to store the id of the record being edited -->
							<h:inputHidden id="employee_id"
								value="#{employeeCrudBacking.employee.id}" />


						</h:panelGrid>


					</rich:panel>
				</a4j:form>
			</f:view>

		</rich:modalPanel>


	</ui:define>
</ui:composition>













