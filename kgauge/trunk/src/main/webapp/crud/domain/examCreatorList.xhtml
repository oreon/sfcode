		
	
	<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:s="http://myfaces.apache.org/sandbox"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:acegijsf="http://sourceforge.net/projects/jsf-comp/acegijsf"
	template="/WEB-INF/template/templateCrud.xhtml">
	
	<ui:define name="content">

		<f:view>
			<h:messages layout="list" globalOnly="true" showDetail="true"
			styleClass="messages" />	
			<a4j:form id="form">
				<rich:tabPanel  switchType="ajax">
					<rich:tab label="Tabular" >
					<t:dataTable id="data" var="examCreator"
						value="#{examCreatorCrudBacking.records}" rows="30"
					rowClasses="odd, even" styleClass="dataTable" >						
							
	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="FirstName" />
				<t:outputText value="FirstName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.firstName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="LastName" />
				<t:outputText value="LastName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.lastName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="DateOfBirth" />
				<t:outputText value="DateOfBirth" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.dateOfBirth}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="UserName" />
				<t:outputText value="UserName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.user.userName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Password" />
				<t:outputText value="Password" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.user.password}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Enabled" />
				<t:outputText value="Enabled" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.user.enabled}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="StreetAddress" />
				<t:outputText value="StreetAddress" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.streetAddress}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="City" />
				<t:outputText value="City" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.city}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="State" />
				<t:outputText value="State" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.state}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Country" />
				<t:outputText value="Country" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.country}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Zip" />
				<t:outputText value="Zip" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.zip}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Phone" />
				<t:outputText value="Phone" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.phone}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{examCreatorCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Email" />
				<t:outputText value="Email" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{examCreator.contactDetails.email}" />
	</t:column>
							
							
							
							<rich:column>
								<f:facet name="header">
									<t:commandSortHeader columnName="id" arrow="true">
										<t:outputText value=" " />
									</t:commandSortHeader>
								</f:facet>
								
								<!--
								<acegijsf:authorize ifAnyGranted="ROLE_EMPLOYEE">
								--> 								
									<t:commandLink action="#{examCreatorCrudBacking.select}"																					
										actionListener="#{examCreatorCrudBacking.selectEntity}">
										<rich:toolTip direction="bottom-left"  styleClass="toolTip" value="Click to Edit Row"  mode="client"/>	
										<h:graphicImage value="/images/icons/application_edit.png" style="border: 0px"/>
										<f:param id="editId" name="id" value="#{examCreator.id}" />								
									</t:commandLink>		
								<!--
								</acegijsf:authorize>
								--> 
								</rich:column>
								<t:column>
								<f:facet name="header">
									<t:commandSortHeader columnName="id" arrow="true">
										<t:outputText value=" " />
									</t:commandSortHeader>
								</f:facet>
								<!--
								<acegijsf:authorize ifAnyGranted="ROLE_EMPLOYEE">
								--> 		
								<t:commandLink action="#{examCreatorCrudBacking.delete}"	
									onclick="if(window.confirm('Are You Sure?')==false){return false}"
									actionListener="#{examCreatorCrudBacking.selectEntity}" immediate="true" renderRegionOnly="false">														
									<rich:toolTip direction="bottom-right" layout="block" value="Click to Delete Entire Row" styleClass="toolTip"  mode="client"/>		
									<h:graphicImage value="/images/icons/application_delete.png" style="border: 0px"/>							
									<f:param id="deleteId" name="id" value="#{examCreator.id}" />												
								</t:commandLink>
								<!--
								</acegijsf:authorize>
								--> 
								</t:column>
						</t:dataTable>	
							 	<t:inputHidden value="#{examCreatorCrudBacking.sortField}" />
    							<t:inputHidden value="#{examCreatorCrudBacking.sortAscending}" />
							 </rich:tab>
							 
							 
							 <rich:tab label="Audit" >
							 	<t:dataTable id="dataAudit" var="log"
							value="#{productCrudBacking.auditLog}" rows="30"
							rowClasses="odd, even" styleClass="dataTable">
							
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="ListPrice" arrow="true"> -->
									<t:outputText value="Date" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.dateCreated}" />
							</t:column>
							
							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="Brand" arrow="true"> -->
									<t:outputText value="Action" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.action}" />
							</t:column>

							<t:column>
								<f:facet name="header">
									<!-- <t:commandSortHeader columnName="ListPrice" arrow="true"> -->
									<t:outputText value="User" />
									<!-- </t:commandSortHeader> -->
								</f:facet>
								<t:outputText value="#{log.username}" />
							</t:column>
							
							
							
							
	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="FirstName" />
				<t:outputText value="FirstName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.firstName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="LastName" />
				<t:outputText value="LastName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.lastName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="DateOfBirth" />
				<t:outputText value="DateOfBirth" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.dateOfBirth}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="UserName" />
				<t:outputText value="UserName" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.user.userName}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Password" />
				<t:outputText value="Password" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.user.password}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Enabled" />
				<t:outputText value="Enabled" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.user.enabled}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="StreetAddress" />
				<t:outputText value="StreetAddress" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.streetAddress}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="City" />
				<t:outputText value="City" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.city}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="State" />
				<t:outputText value="State" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.state}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Country" />
				<t:outputText value="Country" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.country}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Zip" />
				<t:outputText value="Zip" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.zip}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Phone" />
				<t:outputText value="Phone" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.phone}" />
	</t:column>

	<t:column>
		<f:facet name="header">
			<t:commandLink actionListener="#{log.entityCrudBacking.sortDataList}">
				<f:attribute name="sortField" value="Email" />
				<t:outputText value="Email" /> 
			</t:commandLink>		
		</f:facet>
		<t:outputText value="#{log.entity.contactDetails.email}" />
	</t:column>
							
							
							</t:dataTable>
							 </rich:tab>
							 
							</rich:tabPanel>
  						 </a4j:form>

						<br />
						<hr />
						<a href="examCreator.jsf"> Add New </a>
						<a href="examCreatorSearch.jsf"> Search </a>
						<hr />

		</f:view>

	</ui:define>
      
</ui:composition>

		
